<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte de Rendimiento Digital - 2win.cl</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>

    <style>
        :root {
            --primary-color: #1a237e;
            --secondary-color: #0d47a1;
            --accent-color: #42a5f5;
            --background-color: #f4f6f8;
            --card-bg-color: #ffffff;
            --text-color: #333;
            --light-text-color: #666;
            --border-color: #e0e0e0;
            --success-color: #2e7d32;
            --warning-color: #ff8f00;
            --danger-color: #c62828;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
        }
        .report-header {
            background-color: #ffffff;
            padding: 12px 20px;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
        }
        .report-header .nav-btn {
            color: #334155;
            background-color: #f1f5f9;
            text-decoration: none;
            padding: 10px 20px;
            margin: 0 8px;
            border-radius: 8px;
            font-weight: 600;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            font-size: 1em;
            transition: all 0.2s ease-in-out;
            border: 2px solid transparent;
        }
        .report-header .nav-btn:hover {
            background-color: #e2e8f0;
            transform: translateY(-2px);
        }
        .report-header .nav-btn.active {
            background-color: #1a237e;
            color: #ffffff;
            cursor: default;
            box-shadow: 0 2px 8px rgba(26, 35, 126, 0.4);
        }
        .container {
            max-width: 1800px;
            margin: auto;
        }
        header {
            text-align: center;
            margin-bottom: 40px;
        }
        header h1 {
            color: var(--primary-color);
            font-size: 2.5em;
            margin: 0;
        }
        header p {
            color: var(--light-text-color);
            font-size: 1.2em;
        }
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 25px;
        }
        .card {
            background-color: var(--card-bg-color);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            padding: 25px;
            display: flex;
            flex-direction: column;
        }
        .card.full-width { grid-column: span 12; }
        .card-title {
            font-size: 1.4em;
            font-weight: 600;
            margin-top: 0;
            margin-bottom: 20px;
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
        }
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
        }
        .kpi-card {
            text-align: center;
            padding: 20px 15px;
            border-radius: 8px;
            background-color: #f9f9f9;
            border: 1px solid var(--border-color);
        }
        .kpi-value {
            font-size: 2.2em;
            font-weight: 700;
            color: var(--secondary-color);
            margin: 0 0 10px 0;
        }
        .kpi-label {
            font-size: 1em;
            color: var(--light-text-color);
            margin: 5px 0 0 0;
        }
        .chart-container {
            position: relative;
            flex-grow: 1;
            min-height: 380px;
            width: 100%;
        }
        .insights ul {
            padding-left: 20px;
            margin: 0;
        }
        .insights li {
            margin-bottom: 12px;
            color: #444;
            line-height: 1.6;
        }
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
            color: var(--light-text-color);
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    
<header class="report-header">
    <a href="resumen.html" class="nav-btn active">Resumen Semanal</a>
    <a href="keywords.html" class="nav-btn">Resumen de Keywords</a>
    <a href="kpi.html" class="nav-btn">Evolución KPIs</a>
</header>

<div class="container">
    <header>
        <h1>Reporte de Rendimiento Digital</h1>
        <p>Análisis de Evolución del 1 de Junio al 14 de Julio, 2025</p>
    </header>

    <div class="dashboard-grid">

        <div class="card full-width">
            <h2 class="card-title">Evolución General de Visibilidad (Junio-Julio)</h2>
            <div class="chart-container" style="height: 450px; margin-top: 30px;">
                <canvas id="mainSeoEvolutionChart"></canvas>
            </div>
            <div class="insights" style="margin-top: 20px;">
                <h4>Análisis de la Tendencia</h4>
                <ul>
                    <li>El gráfico muestra la evolución completa de la visibilidad SEO. Se observa un crecimiento inicial, un peak de visibilidad el 28 de junio (coincidiendo con el final de las campañas de Ads que incluían búsquedas de marca) y una posterior estabilización en un nuevo nivel base, más alto que a principios de junio.</li>
                    <li>La línea roja vertical marca el **28 de Junio**, fecha en que se detuvieron las campañas de Ads. Esto permite analizar el rendimiento 100% orgánico a partir de ese punto.</li>
                </ul>
            </div>
        </div>
        
        <div class="card full-width">
            <h2 class="card-title">Rendimiento del Período Actual (29 de Junio - 14 de Julio)</h2>
             <div class="kpi-grid">
                <div class="kpi-card"><p class="kpi-value">157</p><p class="kpi-label">Usuarios</p></div>
                <div class="kpi-card"><p class="kpi-value" style="color: var(--success-color);">41</p><p class="kpi-label">Total Eventos Clave</p></div>
                <div class="kpi-card"><p class="kpi-value">133</p><p class="kpi-label">Sesiones Orgánicas</p></div>
                <div class="kpi-card"><p class="kpi-value">1m 06s</p><p class="kpi-label">Interacción Media</p></div>
            </div>
            <div class="insights" style="margin-top: 20px;">
                <h4>Conclusiones del Período Sin Ads</h4>
                <ul>
                    <li>En este período de rendimiento 100% orgánico, el sitio generó **41 interacciones de alto valor** (Eventos Clave) a través de 157 usuarios.</li>
                    <li>El canal principal de adquisición fue **Búsqueda Orgánica** (133 sesiones), seguido por **Directo** (68 sesiones), demostrando la fortaleza de la marca y el posicionamiento SEO.</li>
                </ul>
            </div>
        </div>

        <div class="card" style="grid-column: span 6;">
            <h2 class="card-title">Canales de Adquisición (Sesiones)</h2>
            <div class="chart-container" style="min-height: 400px;">
                <canvas id="trafficSourceChart"></canvas>
            </div>
        </div>

        <div class="card" style="grid-column: span 6;">
            <h2 class="card-title">Páginas Más Vistas</h2>
            <div class="chart-container" style="min-height: 400px;">
                <canvas id="topPagesChart"></canvas>
            </div>
        </div>
        
        <div class="card full-width">
            <h2 class="card-title">Rendimiento en LinkedIn</h2>
            <div style="display: grid; grid-template-columns: 1fr 2fr; align-items: center; gap: 25px;">
                <div class="kpi-grid" style="grid-template-columns: 1fr; gap: 15px;">
                    <div class="kpi-card"><p class="kpi-value">+25</p><p class="kpi-label">Nuevos Seguidores</p></div>
                    <div class="kpi-card"><p class="kpi-value">1.8k</p><p class="kpi-label">Impresiones</p></div>
                    <div class="kpi-card"><p class="kpi-value">3.78%</p><p class="kpi-label">Tasa de Interacción</p></div>
                </div>
                <div class="chart-container" style="min-height: 400px;">
                    <canvas id="linkedinSeniorityChart"></canvas>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        Reporte generado por Gemini el 14 de Julio de 2025 para 2WIN.cl - Reporte 100% confidencial
    </footer>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    Chart.register(ChartDataLabels, Chart.Annotation);
    Chart.defaults.plugins.datalabels.display = false; // Desactivar etiquetas por defecto

    // 1. Gráfico Principal de Evolución SEO
    const mainSeoCtx = document.getElementById('mainSeoEvolutionChart')?.getContext('2d');
    if (mainSeoCtx) {
        new Chart(mainSeoCtx, {
            type: 'line',
            data: {
                labels: ['Jun 6', 'Jun 14', 'Jun 22', 'Jun 28', 'Jul 2', 'Jul 6', 'Jul 14'],
                datasets: [{
                    label: 'Visibilidad SEO (%)',
                    data: [0.00, 8.68, 10.66, 26.11, 11.41, 11.49, 11.50],
                    borderColor: 'var(--primary-color)',
                    backgroundColor: 'rgba(26, 35, 126, 0.1)',
                    fill: true,
                    tension: 0.4,
                    pointRadius: 5,
                    pointBackgroundColor: 'var(--primary-color)'
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: { 
                    y: { 
                        beginAtZero: true, 
                        title: { display: true, text: 'Visibilidad (%)' } 
                    } 
                },
                plugins: { 
                    legend: { display: false },
                    title: { display: false },
                    tooltip: { callbacks: { label: (c) => `Visibilidad: ${c.raw.toFixed(2)}%` } },
                    annotation: {
                        annotations: {
                            line1: {
                                type: 'line',
                                xMin: 'Jun 28',
                                xMax: 'Jun 28',
                                borderColor: 'var(--danger-color)',
                                borderWidth: 2,
                                borderDash: [6, 6],
                                label: {
                                    content: 'Fin de Campañas Ads',
                                    display: true,
                                    position: 'start',
                                    backgroundColor: 'rgba(255, 255, 255, 0.8)',
                                    color: 'var(--danger-color)',
                                    font: { weight: 'bold' }
                                }
                            }
                        }
                    }
                }
            }
        });
    }

    // 2. Gráfico de Canales de Adquisición
    const trafficSourceCtx = document.getElementById('trafficSourceChart')?.getContext('2d');
    if (trafficSourceCtx) {
        new Chart(trafficSourceCtx, {
            type: 'doughnut',
            data: {
                labels: ['Búsqueda Orgánica', 'Directo', 'Social Orgánico', 'Referido'],
                datasets: [{
                    label: 'Sesiones',
                    data: [133, 68, 22, 22],
                    backgroundColor: ['#1a237e', '#42a5f5', '#7e57c2', '#26c6da']
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    title: { display: false },
                    datalabels: {
                        display: true,
                        color: 'white',
                        font: { weight: 'bold' },
                        formatter: (value, ctx) => {
                            const total = ctx.chart.getDatasetMeta(0).total;
                            const percentage = (value / total * 100).toFixed(1) + '%';
                            return percentage;
                        }
                    }
                }
            }
        });
    }

    // 3. Gráfico de Páginas más Vistas
    const topPagesCtx = document.getElementById('topPagesChart')?.getContext('2d');
    if (topPagesCtx) {
        new Chart(topPagesCtx, {
            type: 'bar',
            data: {
                labels: ['Oracle NetSuite LATAM', 'Oracle NetSuite Chile', 'Contáctanos', 'Quiénes Somos', 'Dashboard CFOs'],
                datasets: [{
                    label: 'Vistas',
                    data: [110, 56, 27, 24, 21],
                    backgroundColor: '#42a5f5'
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true, maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    title: { display: false }
                }
            }
        });
    }

    // 4. Gráfico de Audiencia en LinkedIn
    const linkedinSeniorityCtx = document.getElementById('linkedinSeniorityChart')?.getContext('2d');
    if (linkedinSeniorityCtx) {
        new Chart(linkedinSeniorityCtx, {
            type: 'bar',
            data: {
                labels: ["Director", "Dueño", "Socio", "Gerente", "Coordinador"],
                datasets: [{
                    label: 'Seguidores por Nivel de Responsabilidad',
                    data: [131, 33, 21, 19, 10],
                    backgroundColor: ['#1a237e', '#1e88e5', '#42a5f5', '#90caf9', '#bbdefb'],
                    borderRadius: 4
                }]
            },
            options: { 
                responsive: true, maintainAspectRatio: false, 
                plugins: {
                    legend: {display: false},
                    title: { display: true, text: 'Nivel de Responsabilidad de la Audiencia (LinkedIn)', font: {size: 16}},
                } 
            }
        });
    }
});
</script>

</body>
</html>
