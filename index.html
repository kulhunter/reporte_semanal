<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Ejecutivo de Rendimiento Digital - 2win.cl</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <style>
        :root {
            --primary-color: #1a237e;
            --secondary-color: #0d47a1;
            --accent-color: #42a5f5;
            --background-color: #f4f6f8;
            --card-bg-color: #ffffff;
            --text-color: #333;
            --light-text-color: #666;
            --border-color: #e0e0e0;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1800px;
            margin: auto;
        }
        header {
            text-align: center;
            margin-bottom: 40px;
        }
        header h1 {
            color: var(--primary-color);
            font-size: 2.5em;
            margin: 0;
        }
        header p {
            color: var(--light-text-color);
            font-size: 1.2em;
        }
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 25px;
        }
        .card {
            background-color: var(--card-bg-color);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            padding: 25px;
            grid-column: span 4;
            display: flex;
            flex-direction: column;
        }
        .card.full-width { grid-column: span 12; }
        .card.half-width { grid-column: span 6; }
        .card.third-width { grid-column: span 4; }
        
        .card-title {
            font-size: 1.4em;
            font-weight: 600;
            margin-top: 0;
            margin-bottom: 20px;
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
        }
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        .kpi-card {
            text-align: center;
            padding: 20px 15px;
            border-radius: 8px;
            background-color: #f9f9f9;
            border: 1px solid var(--border-color);
        }
        .kpi-value {
            font-size: 2.5em;
            font-weight: 700;
            color: var(--secondary-color);
            margin: 0;
        }
        .kpi-label {
            font-size: 1em;
            color: var(--light-text-color);
            margin: 5px 0 0 0;
        }
        .chart-container {
            position: relative;
            flex-grow: 1;
            min-height: 380px;
        }
        .insights ul {
            padding-left: 20px;
            margin: 0;
        }
        .insights li {
            margin-bottom: 12px;
            color: #444;
            line-height: 1.6;
        }
        .table-container {
            max-height: 400px;
            overflow-y: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 14px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        th {
            background-color: #e8eaf6;
            font-weight: 600;
            position: sticky;
            top: 0;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
        
        /* Tooltip styles */
        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 1px dotted var(--primary-color);
            cursor: help;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9em;
            font-weight: 400;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Reporte Ejecutivo de Rendimiento Digital</h1>
            <p>Análisis Integral para 2win.cl | Período: 29 de Mayo - 28 de Junio, 2025</p>
        </header>

        <div class="dashboard-grid">

            <!-- Section 1: Executive Summary & Lead Generation -->
            <div class="card full-width">
                <h2 class="card-title">Resumen Ejecutivo de Rendimiento</h2>
                <div class="kpi-grid" style="margin-bottom: 30px;">
                    <div class="kpi-card">
                        <p class="kpi-value">45</p>
                        <p class="kpi-label">Leads Generados (Web)</p>
                    </div>
                     <div class="kpi-card">
                        <p class="kpi-value">$14,4k</p>
                        <p class="kpi-label"><span class="tooltip">Costo por Lead (CPL)<span class="tooltiptext">Costo Promedio de Adquisición por cada lead generado. Se calcula dividiendo la inversión total en Ads por el número de leads de ese canal.</span></span></p>
                    </div>
                    <div class="kpi-card">
                        <p class="kpi-value">1,500</p>
                        <p class="kpi-label">Usuarios Totales Web</p>
                    </div>
                    <div class="kpi-card">
                        <p class="kpi-value">524</p>
                        <p class="kpi-label">Suscriptores (LinkedIn)</p>
                    </div>
                </div>
                 <div class="chart-container" style="min-height: 450px;">
                    <canvas id="funnelChart"></canvas>
                </div>
            </div>
            
            <div class="card full-width insights">
                <h3 class="card-title">Análisis Estratégico y Próximos Pasos</h3>
                <ul>
                    <li><strong>Eficacia de la Inversión: Google Ads es Nuestra Principal Fuente de Leads:</strong> La inversión en publicidad ha demostrado ser altamente efectiva, no solo como motor de tráfico, sino como la principal herramienta de conversión, generando <strong>35 de los 45 leads totales (78%)</strong>. El costo de adquisición por cada lead de este canal es de <strong>$18,500 CLP</strong>, un dato clave para medir el ROI y planificar futuras inversiones.</li>
                     <li><strong>El Activo del SEO: Crecimiento Orgánico que Empieza a Convertir:</strong> El impresionante despegue de la visibilidad SEO (de 1.13% a casi 18%) ya está dando frutos concretos, generando <strong>10 leads (22% del total) sin costo directo por clic</strong>. Esto valida la estrategia de contenido y demuestra el enorme potencial de este canal para reducir el CPL general a futuro.</li>
                     <li><strong>La Sinergia de Canales: El Camino Hacia la Eficiencia:</strong> El modelo actual es claro: Ads captura la demanda inmediata y SEO construye un activo a largo plazo. LinkedIn, por su parte, crea una audiencia de alto valor. La estrategia debe centrarse en optimizar la sinergia entre estos tres pilares.</li>
                    <li><strong>Plan de Acción - Hacia la Optimización del ROI:</strong>
                        <ul style="margin-top: 10px;">
                            <li><strong>Optimización de la Conversión (CRO):</strong> Con un 3% de los usuarios web convirtiéndose en leads, la mayor oportunidad reside en mejorar este ratio. Es prioritario analizar el comportamiento en las páginas de destino y añadir CTAs más efectivos (demos, trials, contacto) en las páginas con más tráfico que no están convirtiendo.</li>
                             <li><strong>Inversión Inteligente en Ads:</strong> Analizar las campañas y palabras clave que generan los leads más económicos ("erp para pymes chile") y considerar aumentar la inversión en ellas. A su vez, pausar o reevaluar las que consumen presupuesto sin convertir.</li>
                             <li><strong>Monetización de la Audiencia:</strong> Desarrollar un plan de "lead nurturing" para los 524 suscriptores de LinkedIn, utilizando contenido de valor para guiarlos hacia una conversión en el sitio web.</li>
                        </ul>
                    </li>
                </ul>
            </div>

            <!-- Section 2: Lead Generation Analysis -->
            <div class="card full-width">
                 <h2 class="card-title">Análisis de Generación de Leads (Web)</h2>
            </div>
             <div class="card third-width">
                <h3 class="card-title">Leads por Canal</h3>
                <div class="chart-container">
                    <canvas id="leadSourceChart"></canvas>
                </div>
            </div>
            <div class="card two-thirds-width">
                 <h3 class="card-title">Rendimiento de Leads por Campaña de Google Ads</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Campaña / Palabra Clave</th>
                                <th>Leads Generados</th>
                                <th><span class="tooltip">Tasa de Conv.<span class="tooltiptext">Porcentaje de clics que resultaron en un lead para esta campaña específica.</span></span></th>
                                <th>Costo por Lead (CPL)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>erp para pymes chile</td>
                                <td>15</td>
                                <td>7.7%</td>
                                <td>$7,003</td>
                            </tr>
                             <tr>
                                <td>netsuite chile</td>
                                <td>12</td>
                                <td>4.7%</td>
                                <td>$12,308</td>
                            </tr>
                            <tr>
                                <td>software erp</td>
                                <td>5</td>
                                <td>3.3%</td>
                                <td>$16,850</td>
                            </tr>
                            <tr>
                                <td>consultoria erp</td>
                                <td>3</td>
                                <td>2.5%</td>
                                <td>$23,367</td>
                            </tr>
                             <tr>
                                <td>(Tráfico Orgánico)</td>
                                <td>10</td>
                                <td>7.1%</td>
                                <td>$0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Section 3: Website Performance (Google Analytics) -->
            <div class="card full-width">
                 <h2 class="card-title">Análisis del Tráfico Web (Google Analytics)</h2>
            </div>
            <div class="card half-width">
                <h3 class="card-title">Canales de Adquisición de Usuarios</h3>
                <div class="chart-container">
                    <canvas id="trafficSourceChart"></canvas>
                </div>
            </div>
            <div class="card half-width">
                 <h3 class="card-title">Usuarios Nuevos vs. Recurrentes</h3>
                <div class="chart-container">
                    <canvas id="newVsReturningChart"></canvas>
                </div>
            </div>
            

            <!-- Section 4: SEO & Organic Performance Deep Dive -->
            <div class="card full-width">
                 <h2 class="card-title">Análisis Profundo de SEO y Rendimiento Orgánico</h2>
            </div>
            <div class="card full-width">
                <h3 class="card-title">Evolución de Visibilidad SEO (vs Competidor Principal)</h3>
                <div class="chart-container" style="height: 400px;">
                    <canvas id="seoVisibilityEvolutionChart"></canvas>
                </div>
            </div>
            <div class="card half-width">
                 <h3 class="card-title">Comparativa de Visibilidad vs. Competencia</h3>
                <div class="chart-container">
                    <canvas id="seoCompetitorChart"></canvas>
                </div>
            </div>
             <div class="card half-width">
                <h3 class="card-title">Distribución de Rankings (Top 100)</h3>
                <div class="chart-container">
                    <canvas id="seoRankingChart"></canvas>
                </div>
            </div>
           
            <!-- Section 5: LinkedIn Performance Deep Dive -->
             <div class="card full-width">
                 <h2 class="card-title">Análisis Profundo de Rendimiento en LinkedIn</h2>
            </div>
            <div class="card third-width">
                <h3 class="card-title">Crecimiento de Suscriptores (Newsletter)</h3>
                <div class="chart-container">
                    <canvas id="linkedinSubsChart"></canvas>
                </div>
            </div>
            <div class="card third-width">
                <h3 class="card-title">Top 5 Funciones Laborales (Visitantes)</h3>
                <div class="chart-container">
                    <canvas id="linkedinJobChart"></canvas>
                </div>
            </div>
            <div class="card third-width">
                <h3 class="card-title">Top 5 Sectores (Visitantes)</h3>
                <div class="chart-container">
                    <canvas id="linkedinIndustryChart"></canvas>
                </div>
            </div>

        </div>
    </div>

    <script>
        Chart.register(ChartDataLabels);
        Chart.defaults.plugins.datalabels.display = false;
        
        // --- FUNNEL CHART (NOW VERTICAL LOGARITHMIC BAR) ---
        const funnelCtx = document.getElementById('funnelChart').getContext('2d');
        new Chart(funnelCtx, {
            type: 'bar',
            data: {
                labels: ['Impresiones (Ads)', 'Clics (Ads)', 'Usuarios Web (Todos)', 'Leads (Web)'],
                datasets: [{
                    label: 'Volumen',
                    data: [55345, 1121, 1500, 45],
                    backgroundColor: [
                        'rgba(26, 35, 126, 0.7)',
                        'rgba(13, 71, 161, 0.7)',
                        'rgba(66, 165, 245, 0.7)',
                        'rgba(25, 118, 210, 0.8)'
                    ],
                    borderColor: [
                        'rgba(26, 35, 126, 1)',
                        'rgba(13, 71, 161, 1)',
                        'rgba(66, 165, 245, 1)',
                        'rgba(25, 118, 210, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    title: {
                        display: true,
                        text: 'Embudo de Marketing y Generación de Leads',
                        font: { size: 16 },
                        padding: { top: 10, bottom: 20 }
                    },
                    tooltip: {
                        enabled: true,
                         callbacks: {
                            label: function(context) {
                                return ' ' + context.dataset.label + ': ' + context.formattedValue;
                            }
                        }
                    },
                    datalabels: {
                        display: true,
                        anchor: 'end',
                        align: 'top',
                        color: '#333',
                        font: {
                            size: 14,
                            weight: 'bold'
                        },
                        formatter: (value) => value.toLocaleString('es-CL')
                    }
                },
                scales: {
                    y: {
                        type: 'logarithmic',
                        title: {
                            display: true,
                            text: 'Cantidad (Escala Logarítmica)'
                        }
                    }
                }
            }
        });

        // --- LEAD SOURCE CHART ---
        const leadSourceCtx = document.getElementById('leadSourceChart').getContext('2d');
        new Chart(leadSourceCtx, {
            type: 'doughnut',
            data: {
                labels: ['Google Ads', 'Búsqueda Orgánica'],
                datasets: [{
                    data: [35, 10],
                    backgroundColor: ['#1a237e', '#42a5f5'],
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                     title: {
                        display: true,
                        text: 'Origen de los 45 Leads',
                        font: { size: 16 }
                    },
                    datalabels: {
                        display: true,
                        color: 'white',
                        font: { weight: 'bold'},
                        formatter: (value, ctx) => {
                            let sum = 0;
                            let dataArr = ctx.chart.data.datasets[0].data;
                            dataArr.map(data => { sum += data; });
                            let percentage = (value*100 / sum).toFixed(1)+"%";
                            return percentage;
                        },
                    }
                }
            }
        });


        // --- TRAFFIC SOURCE CHART ---
        const trafficSourceCtx = document.getElementById('trafficSourceChart').getContext('2d');
        new Chart(trafficSourceCtx, {
            type: 'pie',
            data: {
                labels: ['Búsqueda de Pago (Ads)', 'Tráfico Directo', 'Búsqueda Orgánica', 'Referidos y Otros'],
                datasets: [{
                    data: [1100, 232, 140, 28],
                    backgroundColor: ['#1a237e', '#42a5f5', '#26c6da', '#90caf9'],
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    datalabels: {
                        display: true,
                        color: 'white',
                        font: { weight: 'bold'},
                        formatter: (value, ctx) => {
                            let sum = 0;
                            let dataArr = ctx.chart.data.datasets[0].data;
                            dataArr.map(data => { sum += data; });
                            let percentage = (value*100 / sum).toFixed(1)+"%";
                            return percentage;
                        },
                    }
                }
            }
        });
        
        // --- NEW VS RETURNING CHART ---
        const newVsReturningCtx = document.getElementById('newVsReturningChart').getContext('2d');
        new Chart(newVsReturningCtx, {
            type: 'line',
            data: {
                labels: ["Jun 1", "Jun 8", "Jun 15", "Jun 22", "Jun 28"],
                datasets: [
                    {
                        label: 'Usuarios Nuevos',
                        data: [250, 300, 450, 700, 400],
                        borderColor: '#1e88e5',
                        backgroundColor: 'rgba(30, 136, 229, 0.1)',
                        fill: true,
                    },
                    {
                        label: 'Usuarios Recurrentes',
                        data: [20, 30, 25, 45, 35],
                        borderColor: '#7e57c2',
                        fill: false,
                    }
                ]
            },
             options: {
                responsive: true, maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: true }
                },
                plugins: { legend: { position: 'bottom' } }
            }
        });
        
        // --- SEO VISIBILITY EVOLUTION CHART ---
        const seoVisibilityCtx = document.getElementById('seoVisibilityEvolutionChart').getContext('2d');
        new Chart(seoVisibilityCtx, {
            type: 'line',
            data: {
                labels: ["Jun 1", "Jun 8", "Jun 15", "Jun 22", "Jun 28"],
                datasets: [{
                    label: 'Visibilidad 2win.cl (%)',
                    data: [1.13, 4.5, 11.2, 17.8, 16.63],
                    borderColor: '#1a237e',
                    backgroundColor: 'rgba(26, 35, 126, 0.2)',
                    fill: true,
                    tension: 0.4
                },
                {
                    label: 'Visibilidad comparasoftware.cl (%)',
                    data: [30, 31, 31.5, 32.2, 32.04],
                    borderColor: '#d32f2f',
                    fill: false,
                    tension: 0.4,
                    borderDash: [5, 5]
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: { y: { beginAtZero: true, title: { display: true, text: 'Visibilidad (%)' } } },
                plugins: { tooltip: { callbacks: { label: (c) => `${c.dataset.label}: ${c.formattedValue}%` } } }
            }
        });

        // --- SEO COMPETITOR CHART ---
        const seoCompetitorCtx = document.getElementById('seoCompetitorChart').getContext('2d');
        new Chart(seoCompetitorCtx, {
            type: 'bar',
            data: {
                labels: ["comparasoftware.cl", "2win.cl", "netsuite.com", "defontana.com", "kame.cl"],
                datasets: [{
                    label: "Visibilidad (%)",
                    data: [32.04, 16.63, 12.81, 5.0, 4.5],
                    backgroundColor: ["#d32f2f", "#1976d2", "#388e3c", "#fbc02d", "#7b1fa2"],
                }]
            },
            options: { responsive: true, maintainAspectRatio: false, plugins: {legend: {display: false}} }
        });

        // --- SEO RANKING CHART ---
        const seoRankingCtx = document.getElementById('seoRankingChart').getContext('2d');
        new Chart(seoRankingCtx, {
            type: 'pie',
            data: {
                labels: ["Top 3", "Top 4-10", "Top 11-100"],
                datasets: [{
                    label: "Cantidad de Palabras Clave",
                    data: [2, 3, 2],
                    backgroundColor: ["#388e3c", "#fbc02d", "#1e88e5"]
                }]
            },
            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' }} }
        });

        // --- LINKEDIN CHARTS ---
        const linkedinSubsCtx = document.getElementById('linkedinSubsChart').getContext('2d');
        new Chart(linkedinSubsCtx, {
             type: 'line',
            data: {
                labels: ["Sem 1", "Sem 2", "Sem 3", "Sem 4"],
                datasets: [{
                    label: 'Nuevos Suscriptores',
                    data: [80, 150, 120, 83],
                    borderColor: '#0e76a8',
                    backgroundColor: 'rgba(14, 118, 168, 0.2)',
                    fill: true,
                }]
            },
            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false }}, scales: {y: {beginAtZero: true}} }
        });

        const linkedinJobCtx = document.getElementById('linkedinJobChart').getContext('2d');
        new Chart(linkedinJobCtx, {
            type: 'bar',
            data: {
                labels: ["Ventas", "Operaciones", "Des. de Negocio", "Servicios TI", "Finanzas"],
                datasets: [{
                    label: "Visitantes por Función",
                    data: [117, 85, 83, 56, 44],
                    backgroundColor: "#1e88e5"
                }]
            },
            options: { responsive: true, maintainAspectRatio: false, plugins: {legend: {display: false}}, indexAxis: 'y' }
        });
        
        const linkedinIndustryCtx = document.getElementById('linkedinIndustryChart').getContext('2d');
        new Chart(linkedinIndustryCtx, {
            type: 'bar',
            data: {
                labels: ["Consultoría TI", "Tecnología", "Serv. Profesionales", "Software", "Retail"],
                datasets: [{
                    label: "Visitantes por Sector",
                    data: [153, 114, 62, 59, 41],
                    backgroundColor: "#26c6da"
                }]
            },
            options: { responsive: true, maintainAspectRatio: false, plugins: {legend: {display: false}}, indexAxis: 'y' }
        });

    </script>
</body>
</html>
